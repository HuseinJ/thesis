\chapter{Prompt Templates and Documentation}

\section{Prompts}
\subsection{Role Prompt}\label{app:role-prompt}
\begin{verbatim}
Role: Senior Domain-Driven Design Specialist & Architectural Sparring Partner

You are a Senior Domain-Driven Design specialist working at a large enterprise that has fully embraced DDD principles across all development teams. With over 10 years of experience implementing DDD in complex systems, you serve as both an expert advisor and a challenging sparring partner for teams working through domain modeling and architectural decisions.
Your Core Responsibilities:

Active Sparring Partner Approach

Challenge assumptions and design decisions through thoughtful questioning
Never accept vague or ambiguous domain concepts without clarification
Ask probing questions to uncover hidden complexity or missed opportunities

DDD Best Practices Enforcement

Ensure proper separation between Domain, Application, Infrastructure, and Presentation layers
Advocate for rich domain models over anemic ones
Guide teams in identifying and defining Bounded Contexts correctly
Promote the use of Domain Events for loose coupling between aggregates
Ensure consistency boundaries are properly maintained within aggregates

Your Working Style

You believe in collaborative modeling sessions and Event Storming
You're not satisfied with technical explanations - you need business justification
You push for ubiquitous language and challenge any technical jargon in domain discussions
You're particularly strict about aggregate boundaries and transaction consistency
You advocate for evolutionary design but insist on strategic design from the start

Red Flags That Trigger Your Intervention

Anemic domain models with logic leaking into services
Aggregates that are too large or have unclear boundaries
Missing or poorly defined bounded contexts
Direct database/repository access from the domain layer
Domain models that mirror database schemas
Lack of domain events for important state changes
Technical concerns polluting the domain model

Your Communication Approach:
When someone presents a design or asks for guidance, you:

First seek to understand their current model through targeted questions
Challenge their assumptions constructively
Guide them toward DDD principles through Socratic questioning
Provide concrete examples from your experience when needed
Always tie technical decisions back to business value and domain complexity

Remember: You're not just answering questions - you're actively helping teams discover better domain models through rigorous questioning and collaborative exploration. You believe that the best domain models emerge from deep understanding of the business, not from technical cleverness.
\end{verbatim}

\subsection{Ubiquitous Language Extraction Prompt}\label{app:ubiquitous-language-prompt}
\begin{verbatim}
Task: Extract and Define Ubiquitous Language from Requirements

When presented with a set of requirements, your first action as a DDD specialist is to meticulously extract and define all domain terms to establish a clear ubiquitous language. Follow this structured approach:
Instructions for Building the Ubiquitous Language Glossary:

Initial Analysis Phase

Read through all requirements carefully
Identify every noun, verb, and business concept mentioned
Pay special attention to terms that appear multiple times or seem central to the domain
Note any terms that might have different meanings in different contexts

Create a Structured Glossary Table
Format your output as follows:
## Ubiquitous Language Glossary

| Term | Definition | Business Context | Related Terms | Questions/Clarifications Needed |
|------|------------|------------------|---------------|--------------------------------|
| [Term] | [Clear business definition] | [When/where this term is used] | [Other related domain terms] | [Any ambiguities or questions] |
####

For Each Term, Ensure You:

Provide a business-focused definition (not technical)
Explain the term as a domain expert would
Identify the business context where this term applies
Link related terms to show relationships
Flag any ambiguities or areas needing clarification

Categories to Pay Special Attention To:

Entities: Things with identity that persist over time
Value Objects: Things defined by their attributes
Actions/Commands: What users or systems do
Events: Things that happen in the domain
Rules/Policies: Business constraints and invariants
Roles: Different actors in the system
States: Different conditions things can be in

After Creating the Initial Glossary:

Identify terms that might belong to different bounded contexts
Flag any terms that seem to have multiple meanings
Highlight core domain terms vs supporting/generic terms
List questions about unclear or ambiguous terms

Follow-up Questions to Ask:

"I noticed [term] is used in different ways. Can you clarify...?"
"Is [term A] the same as [term B] or are they different concepts?"
"When you say [term], does this include...?"
"Are there any industry-standard definitions we should align with?"

Example Output Structure:
## Ubiquitous Language Glossary

Based on the requirements provided, I've identified the following key domain terms:

| Term | Definition | Business Context | Related Terms | Questions/Clarifications Needed |
|------|------------|------------------|---------------|--------------------------------|
| Order | A customer's request to purchase products | Used throughout the sales process | Customer, Product, Payment | Is there a difference between 'Order' and 'Purchase Order'? |
| Customer | An individual or organization that can place orders | Central to all business operations | Order, Account, Payment Method | Are there different types of customers (B2B vs B2C)? |

### Potential Bounded Context Indicators:
- Terms related to [Context A]: ...
- Terms related to [Context B]: ...

### Areas Requiring Domain Expert Clarification:
1. [Specific ambiguity or question]
2. [Another clarification needed]

Remember: This glossary is a living document that should evolve as understanding deepens. Challenge any technical jargon and insist on business-friendly definitions that a domain expert would recognize and approve.
\end{verbatim}

\subsection{Event Storming Prompt}\label{app:event-storming-prompt}
\begin{verbatim}
Based on the ubiquitous language we've established, let's conduct an Event Storming session:

1. Identify all Domain Events (things that happen) in chronological order
2. For each event, identify:
   - The Command that triggers it
   - The Actor/Role who initiates the command
   - Any Policies/Rules that apply
   - The Aggregate that handles it
3. Look for temporal boundaries and parallel processes
4. Create a visual flow showing the event stream

Format as:
Actor -> Command -> Aggregate -> Event(s) -> Policy/Reaction -> Next Command

Highlight any areas where the flow seems unclear or where multiple interpretations exist.
\end{verbatim}

\subsection{Bounded Context Prompt}\label{app:bounded-context-prompt}
\begin{verbatim}
Now let's identify and map Bounded Contexts:

1. Group related terms from our glossary into potential bounded contexts
2. For each bounded context, define:
   - Core purpose and responsibility
   - Key aggregates within it
   - The ubiquitous language specific to this context
3. Identify relationships between contexts:
   - Upstream/Downstream relationships
   - Shared Kernel
   - Customer/Supplier
   - Conformist
   - Anti-corruption Layer needs
   - Published Language
4. Create a Context Map showing these relationships
5. Flag any terms that have different meanings across contexts

Question any contexts that seem too large or have unclear boundaries.
\end{verbatim}

\subsection{Aggregate Design Prompt}\label{app:aggregate-design-prompt}
\begin{verbatim}
For each Bounded Context, let's design the Aggregates:

1. Identify Aggregate Roots (entities that control access)
2. For each Aggregate:
   - Define its consistency boundary
   - List all entities and value objects within it
   - Identify its invariants (business rules it must protect)
   - Define its domain events
   - Specify its commands/methods
3. Ensure aggregates are:
   - Small (for concurrency)
   - Focused on a single consistency boundary
   - Protecting clear business invariants

Template:
Aggregate: [Name]
- Root Entity: [Entity]
- Contains: [Entities & Value Objects]
- Invariants: [Business rules]
- Commands: [Operations]
- Events: [What it publishes]
- Size concern: [Evaluation]

Challenge any aggregate that seems too large or has unclear boundaries.

\end{verbatim}

\subsection{Architecture Design Prompt}\label{app:technical-architecture-prompt}
\begin{verbatim}
Design the technical architecture following DDD patterns:

1. Hexagonal Architecture:
   - Domain Layer: [Entities, VOs, Domain Services, Repositories interfaces]
   - Application Layer: [Application Services, DTOs, Commands/Queries]
   - Infrastructure Layer: [Repository implementations, External service adapters]
   - Presentation Layer: [APIs (REST/GRAPHQL)]

2. For each Bounded Context:
   - Design the anti-corruption layers needed
   - Define the published events/APIs

3. Technical patterns to apply:
   - Repository pattern for aggregate persistence
   - Specification pattern for complex queries
   - Domain Events for decoupling

Show how each technical decision supports the domain model.

\end{verbatim}

\section{Requirments}

\subsection{Securooms}

\begin{verbatim}
    ## 1. Produktübersicht

    ### 1.1 Produktbeschreibung
    
    - **Name**: FTAPI SecuRooms
    - **Zweck**: Virtuelle Datenräume für sicheres und einfaches Filesharing
    - **Vision**: Sensible Daten sicher online verwalten und gemeinsam daran arbeiten
    - **Zielgruppe**: Unternehmen, Projektteams, Gesundheitswesen, Behörden
    
    ### 1.2 Kernfunktionalität
    
    - Browserbasierte virtuelle Datenräume
    - Sicheres Speichern, Teilen und gemeinsames Bearbeiten von Dateien
    - Granulare Rollen- und Rechtevergabe
    - Vollständige Transparenz und Nachvollziehbarkeit durch Audit Trail
    
    ## 2. Systemzugriff und Architektur
    
    ### 2.1 Zugriffsmöglichkeiten
    
    - **Browserbasierter Zugriff**: Keine lokale Installation erforderlich
    - **Unterstützte Browser**:
        - Google Chrome (aktuelle Version)
        - Safari (aktuelle Version)
        - Microsoft Edge (aktuelle Version)
        - Mozilla Firefox (aktuelle Version)
    - **Gerätekompatibilität**:
        - Desktop/Laptop
        - Tablet
        - Smartphone
        - Optimiert für alle mobilen Endgeräte
    
    ### 2.2 Account-Typen
    
    1. **Reguläre Benutzer-Accounts**
        - Vollwertiger Account mit allen Funktionen
        - Eigene Datenräume erstellen und verwalten
    2. **Gast-Accounts**
        - Kostenloser Account für externe Nutzer
        - Zugriff nur auf freigegebene Datenräume
        - Automatische Erstellung bei Einladung
    
    ### 2.3 Registrierungsprozess
    
    1. **Gast-Account Registrierung**
        - E-Mail mit Datenraum-Einladung erhalten
        - Button "Registrierung abschließen" klicken
        - Benutzername = E-Mail-Adresse (vorgegeben)
        - Passwort frei wählbar
        - Bestätigung per E-Mail
    
    ## 3. Sicherheitsarchitektur
    
    ### 3.1 Verschlüsselungsmethoden
    
    ### 3.1.1 Transportverschlüsselung
    
    - **Standard**: TLS 1.3 für alle Datenübertragungen
    - **Schutz**: Während der Übertragung ("Encryption-in-Transit")
    - **Anwendung**: Automatisch für alle Datenräume
    
    ### 3.1.2 Serverseitige Verschlüsselung
    
    - **Standard**: AES-256 Verschlüsselung
    - **Speicherung**: Verschlüsselt auf Server ("Encryption-at-Rest")
    - **Anwendung**: Für alle Datenräume
    
    ### 3.1.3 Ende-zu-Ende-Verschlüsselung (Optional)
    
    - **Aktivierung**: Manuell pro Datenraum
    - **Verschlüsselung**: Direkt im Browser mit SecuPass
    - **Zero-Knowledge-Prinzip**: FTAPI hat keinen Zugriff auf Inhalte
    - **Voraussetzung**: SecuPass-Key erforderlich
    
    ### 3.2 SecuPass-Verwaltung
    
    ### 3.2.1 SecuPass-Einrichtung
    
    1. Benutzerverwaltung öffnen (rechts oben)
    2. "SecuPass einrichten" klicken
    3. SecuPass festlegen und bestätigen
    
    ### 3.2.2 SecuPass-Eigenschaften
    
    - Sicherheitspasswort für Ver-/Entschlüsselung
    - Einmalige Festlegung
    - **WICHTIG**: Kann nicht zurückgesetzt werden
    - Bei Verlust kein Zugriff auf E2E-verschlüsselte Datenräume
    
    ### 3.3 Compliance und Datenschutz
    
    - **DSGVO-konform**: Vollständige Compliance
    - **BSI-Standards**: Verschlüsselung nach BSI-Vorgaben
    - **Datenhaltung**: 100% in Deutschland
    - **Rechenzentrum**: Deutscher Betreiber
    
    ## 4. Funktionale Requirements
    
    ### 4.1 Datenraum-Management
    
    ### 4.1.1 Datenraum-Erstellung
    
    - Neue Datenräume anlegen
    - Namen und Beschreibung vergeben
    - Verschlüsselungsoptionen wählen
    - Initiale Zugriffsrechte festlegen
    
    ### 4.1.2 Datenraum-Struktur
    
    - **Hierarchische Organisation**:
        - Datenräume (oberste Ebene)
        - Unterordner (ein-/ausklappbar)
        - Dateien
    - **Sortieroptionen**:
        - Name (alphabetisch)
        - Dateigröße
        - Änderungsdatum
    
    ### 4.1.3 Datenraum-Verwaltung
    
    - Datenräume umbenennen
    - Beschreibungen ändern
    - Löschfristen festlegen
    - Datenräume löschen (nur Besitzer)
    
    ### 4.2 Datei-Management
    
    ### 4.2.1 Upload-Funktionen
    
    - **Methoden**:
        - Drag & Drop
        - Upload-Button
        - Mehrfachauswahl möglich
    - **Dateigröße**: Bis 100 GB pro Datei
    - **Dateitypen**: Keine Einschränkungen (konfigurierbar)
    
    ### 4.2.2 Download-Funktionen
    
    - Einzeldateien herunterladen
    - Mehrfachauswahl für Download
    - Ordner als ZIP herunterladen
    
    ### 4.2.3 Datei-Operationen
    
    - Dateien verschieben
    - Dateien löschen
    - Dateien umbenennen
    - Dateiversionierung
    
    ### 4.2.4 PDF-Kollaboration
    
    - **PDF-Viewer im Browser**
    - **Anmerkungen**: Direkt im Dokument
    - **Kommentare**: Für andere Mitarbeiter sichtbar
    - **Speicherung**: Automatisch mit Dokument
    
    ### 4.3 Zugriffsrollen und Berechtigungen
    
    ### 4.3.1 Rollendefinitionen
    
    **Betrachter (ohne Herunterladen)**
    
    - Datei ansehen
    - Keine Download-Berechtigung
    - Keine Bearbeitungsrechte
    
    **Betrachter**
    
    - Datei ansehen
    - Datei herunterladen
    - Keine Bearbeitungsrechte
    
    **Bearbeiter**
    
    - Datei ansehen
    - Datei herunterladen
    - Datei hochladen
    - Datei verschieben
    - Datei löschen
    - Ordner erstellen
    - Ordner löschen
    
    **Besitzer**
    
    - Alle Bearbeiter-Rechte
    - Datenraum löschen
    - Zugriffe verwalten
    - Neue Nutzer einladen
    - Rollen ändern
    - Übersicht über Datei-Upload-Events und -zugriffe
    
    ### 4.3.2 Rechtevergabe
    
    - E-Mail-basierte Einladung
    - Rollenzuweisung bei Einladung
    - Nachträgliche Rollenänderung möglich
    - Mehrfachzuweisung von Rollen
    
    ### 4.4 Transparenz und Nachvollziehbarkeit
    
    ### 4.4.1 Audit Trail
    
    - **Protokollierte Aktivitäten**:
        - Datei-Upload
        - Datei-Download
        - Datei-Ansicht
        - Änderungen
        - Löschungen
        - Zugriffsverwaltung
    - **Informationen**:
        - Benutzer
        - Zeitstempel
        - Aktion
        - Betroffene Dateien/Ordner
    - **Zugriff**: Nur für Besitzer sichtbar
    
    ### 4.4.2 Dateiversionierung
    
    - Automatische Versionierung bei Änderungen
    - Versionsverlauf einsehbar
    - Alte Versionen wiederherstellen
    - Versionsnummern und Zeitstempel
    
    ### 4.4.3 Aktivitätsbenachrichtigungen
    
    - E-Mail-Benachrichtigungen bei:
        - Neuen Uploads
        - Änderungen
        - Freigaben
        - Downloads (optional)
    - Konfigurierbare Benachrichtigungseinstellungen
    
    ### 4.5 Automatisierung und Regelwerk
    
    ### 4.5.1 Löschfristen
    
    - **Automatische Löschung**: Nach festgelegtem Zeitraum
    - **Konfiguration**: Pro Datenraum oder global
    - **Compliance**: Unterstützung von DSGVO-Aufbewahrungsfristen
    - **Benachrichtigung**: Vor Löschung (optional)
    
    ### 4.5.2 Zugriffsbeschränkungen
    
    - Zeitbasierte Zugriffe (Ablaufdatum)
    - IP-Beschränkungen (Admin-Funktion)
    - Download-Limits (optional)
    
    ## 5. Administrative Requirements
    
    ### 5.1 Admin-Konsole
    
    ### 5.1.1 Zentrale Verwaltung
    
    - Übersicht aller Datenräume
    - Keine direkten Zugriffe auf Inhalte erforderlich
    - Globale Einstellungen
    
    ### 5.1.2 Verfügbare Informationen
    
    - **Datenraum-Details**:
        - Name des Datenraums
        - Besitzer (Liste)
        - Ende-zu-Ende-Verschlüsselung (Ja/Nein)
        - Anzahl Mitglieder
        - Anzahl Dateien
        - Gesamtdateigröße
    
    ### 5.1.3 Admin-Aktionen
    
    - Besitzer-Rechte vergeben
    - Datenräume löschen
    - Berichte generieren
    - Speicherplatz verwalten
    
    ### 5.2 Benutzerverwaltung
    
    ### 5.2.1 Gruppenverwaltung
    
    - Benutzergruppen erstellen
    - Rechte pro Gruppe definieren
    - Benutzer zu Gruppen hinzufügen
    - Mehrfachgruppenzugehörigkeit
    
    ### 5.2.2 Berechtigungsprinzipien
    
    - **Segregation of Duties**: Aufgabentrennung
    - **Principle of Least Privilege**: Minimale Berechtigung
    - **Principle of Need to Know**: Notwendiges Wissen
    
    ### 5.2.3 Berechtigungsvererbung
    
    - **Kumulative Berechtigungen**:
        - Whitelist/Blacklist für Dateitypen
        - IP-Adressen-Beschränkungen
        - Sicherheitsstufen
    - **Prioritäre Berechtigungen**:
        - Nach Gruppenrang
        - Höhere Gruppe überschreibt niedrigere
    
    ### 5.3 Reporting und Monitoring
    
    ### 5.3.1 Reports
    
    - Nutzungsstatistiken
    - Speicherverbrauch
    - Aktivitätsprotokolle
    - Compliance-Reports
    
    ### 5.3.2 Monitoring
    
    - Echtzeit-Überwachung
    - Kapazitätsplanung
    - Performance-Metriken
    - Sicherheitsereignisse
    
    ### 5.4 Integration und APIs
    
    ### 5.4.1 REST API
    
    - Vollständige API-Dokumentation
    - Authentifizierung via Token
    - CRUD-Operationen für Datenräume
    - Benutzerverwaltung via API
    
    ### 5.4.2 Systemintegrationen
    
    - **Microsoft Teams Integration**
    - **SecuFlows-Schnittstelle**
    - **SSO (Single Sign-On)**
    - **Zwei-Faktor-Authentifizierung (2FA)**
    
    ## 6. Technische Requirements
    
    ### 6.1 Performance
    
    - **Dateigröße**: Bis 100 GB pro Datei
    - **Speicher**: 300 GB inklusive (erweiterbar)
    - **Unlimitierter Speicher**: Auf Wunsch verfügbar
    - **Gleichzeitige Nutzer**: Skalierbar
    
    ### 6.2 Verfügbarkeit
    
    - **Uptime**: 99% Verfügbarkeit
    - **Wartungsfenster**: Angekündigt
    - **Backup**: Automatische Sicherungen
    - **Disaster Recovery**: Implementiert
    
    ### 6.3 Browser-Kompatibilität
    
    - Keine Plugins erforderlich
    - HTML5-Standard
    - Responsive Design
    - Progressive Web App fähig
    
    ## 7. Benutzerfreundlichkeit
    
    ### 7.1 User Interface
    
    - **Intuitive Oberfläche**: Keine Schulung erforderlich
    - **Übersichtliche Dateiverwaltung**: Direkt im Browser
    - **Drag & Drop**: Für alle Dateioperationen
    - **Kontextmenüs**: Rechtsklick-Funktionen
    
    ### 7.2 Onboarding
    
    - **Schnelles Onboarding**: Keine Installation
    - **Guided Tours**: Interaktive Einführung
    - **Help Center**: Integrierte Hilfe
    - **Video-Tutorials**: Verfügbar
    
    ### 7.3 Anpassung
    
    - **Corporate Design**: CI-konforme Oberfläche
    - **Mehrsprachigkeit**: Deutsch, Englisch, Französisch
    - **Benutzerdefinierte Felder**: Erweiterbar
    - **White-Label**: Option verfügbar
    
    ## 8. Support und Wartung
    
    ### 8.1 Support-Optionen
    
    - **Deutscher Support**: Verfügbar
    - **Support-Kanäle**: E-Mail, Telefon
    - **SLA**: Definierte Reaktionszeiten
    - **Dokumentation**: Umfassend
    
    ### 8.2 Wartung
    
    - **Updates**: Automatisch
    - **Keine Downtime**: Bei Updates
    - **Feature-Releases**: Regelmäßig
    - **Security-Patches**: Sofort
    
    ## 9. Implementierung
    
    ### 9.1 Rollout
    
    - **Implementierungszeit**: Innerhalb von 24h
    - **Keine IT-Ressourcen**: Erforderlich
    - **Cloud-basiert**: Sofort verfügbar
    - **Skalierbar**: Nach Bedarf
    
    ### 9.2 Migration
    
    - **Datenimport**: Unterstützt
    - **Bulk-Upload**: Verfügbar
    - **Metadaten**: Erhaltung möglich
    - **Rechte-Migration**: Unterstützt
    
    ## 10. Lizenzierung
    
    ### 10.1 Lizenzmodell
    
    - **Faire Lizenzierung**: Für interne und externe Nutzer
    - **Keine versteckten Kosten**: Transparente Preise
    - **Skalierbar**: Nach Nutzerzahl
    - **Speicher**: Flexibel erweiterbar
    
    ### 10.2 Inkludierte Leistungen
    
    - 300 GB Speicher
    - Unbegrenzte Gast-Accounts
    - Alle Funktionen
    - Support inklusive
    
    ## 11. Sicherheitsprinzipien und Best Practices
    
    ### 11.1 Datenschutz
    
    - Ende-zu-Ende-Verschlüsselung für kritische Daten
    - Regelmäßige Zugriffsprüfungen
    - Minimale Berechtigungen vergeben
    - Löschfristen implementieren
    
    ### 11.2 Compliance
    
    - DSGVO-konforme Prozesse
    - Audit-Trail aktivieren
    - Regelmäßige Reports
    - Dokumentation pflegen
    
    ### 11.3 Operationale Sicherheit
    
    - Starke Passwörter erzwingen
    - 2FA aktivieren
    - IP-Beschränkungen nutzen
    - Regelmäßige Schulungen
    
    ## 1. Datenraum-Verwaltung
    
    ### 1.1 Datenraum erstellen
    
    - Neue virtuelle Datenräume anlegen
    - Namen und Beschreibung festlegen
    - Verschlüsselungsoptionen wählen (Standard oder Ende-zu-Ende)
    
    ### 1.2 Datenraum-Struktur
    
    - Hierarchische Ordnerstruktur innerhalb der Datenräume
    - Ordner erstellen, umbenennen und löschen
    - Ein- und ausklappbare Unterordner für bessere Übersicht
    
    ### 1.3 Datenraum löschen
    
    - Datenräume können nur vom Besitzer gelöscht werden
    - Automatische Löschfristen konfigurierbar
    
    ## 2. Datei-Management
    
    ### 2.1 Datei-Upload
    
    - Drag & Drop Funktion
    - Upload-Button für Dateiauswahl
    - Mehrfachauswahl von Dateien möglich
    - Dateien bis 100 GB unterstützt
    
    ### 2.2 Datei-Download
    
    - Einzelne Dateien herunterladen
    - Mehrere Dateien auf einmal herunterladen
    - Ordner als ZIP-Datei herunterladen
    
    ### 2.3 Datei-Operationen
    
    - Dateien verschieben zwischen Ordnern
    - Dateien löschen
    - Dateien umbenennen
    - Versionierung von Dateien
    
    ### 2.4 Datei-Ansicht
    
    - Dateien direkt im Browser ansehen (ohne Download)
    - PDF-Viewer integriert
    - Unterstützung verschiedener Dateiformate
    
    ## 3. Benutzerverwaltung und Zugriffe
    
    ### 3.1 Benutzer-Accounts
    
    - **Reguläre Accounts**: Vollwertige Benutzer mit eigenen Datenräumen
    - **Gast-Accounts**: Kostenlose Accounts für externe Nutzer mit eingeschränkten Rechten
    
    ### 3.2 Registrierung
    
    - E-Mail-basierte Registrierung
    - Gast-Accounts werden automatisch bei Einladung erstellt
    - Passwort selbst festlegen
    
    ### 3.3 Benutzer zu Datenräumen einladen
    
    - Einladung per E-Mail versenden
    - Rolle bei Einladung festlegen
    - Mehrere Benutzer gleichzeitig einladen
    
    ## 4. Rollen und Berechtigungen
    
    ### 4.1 Rollendefinitionen
    
    **Betrachter (ohne Download)**
    
    - Dateien nur ansehen
    - Kein Download möglich
    
    **Betrachter (mit Download)**
    
    - Dateien ansehen
    - Dateien herunterladen
    
    **Bearbeiter**
    
    - Dateien ansehen und herunterladen
    - Dateien hochladen
    - Dateien verschieben und löschen
    - Ordner erstellen und löschen
    
    **Besitzer**
    
    - Alle Bearbeiter-Rechte
    - Datenraum löschen
    - Benutzer einladen und entfernen
    - Rollen ändern
    - Audit-Trail einsehen
    
    ### 4.2 Rechteverwaltung
    
    - Rollen pro Datenraum vergeben
    - Nachträgliche Änderung von Rollen
    - Benutzer aus Datenraum entfernen
    
    ## 5. Sicherheitsfunktionen
    
    ### 5.1 Verschlüsselung
    
    - **Transportverschlüsselung**: TLS für alle Übertragungen
    - **Serverseitige Verschlüsselung**: AES-256 für gespeicherte Daten
    - **Ende-zu-Ende-Verschlüsselung**: Optional pro Datenraum aktivierbar
    
    ### 5.2 SecuPass
    
    - SecuPass einrichten für Ende-zu-Ende-Verschlüsselung
    - SecuPass in Benutzerverwaltung festlegen
    - Warnung: SecuPass kann nicht zurückgesetzt werden
    
    ### 5.3 Authentifizierung
    
    - Zwei-Faktor-Authentifizierung (2FA) optional
    - SMS-TAN Verfahren
    - Single Sign-On (SSO) via SAML
    
    ## 6. Kollaboration
    
    ### 6.1 PDF-Bearbeitung
    
    - PDFs direkt im Browser annotieren
    - Kommentare zu PDFs hinzufügen
    - Anmerkungen für andere Benutzer sichtbar
    - Änderungen automatisch speichern
    
    ### 6.2 Benachrichtigungen
    
    - E-Mail-Benachrichtigungen bei neuen Uploads
    - Benachrichtigungen bei Änderungen
    - Aktivitätsbenachrichtigungen konfigurierbar
    
    ## 7. Transparenz und Nachvollziehbarkeit
    
    ### 7.1 Audit Trail
    
    - Alle Aktivitäten werden protokolliert:
        - Datei-Uploads
        - Downloads
        - Ansichten
        - Änderungen
        - Löschungen
        - Rechtevergaben
    - Zeitstempel und Benutzer werden erfasst
    - Nur für Besitzer einsehbar
    
    ### 7.2 Aktivitätsübersicht
    
    - Übersicht über alle Datei-Upload-Events
    - Zugriffe auf Dateien nachvollziehen
    - Chronologische Darstellung
    
    ## 8. Administration
    
    ### 8.1 Admin-Konsole
    
    - Zentrale Verwaltung aller Datenräume
    - Übersicht ohne direkten Zugriff auf Inhalte
    - Folgende Informationen einsehbar:
        - Name des Datenraums
        - Liste der Besitzer
        - Ende-zu-Ende-Verschlüsselung (Ja/Nein)
        - Anzahl Mitglieder
        - Anzahl Dateien
        - Gesamtdateigröße
    
    ### 8.2 Admin-Funktionen
    
    - Besitzer-Rechte vergeben
    - Datenräume löschen
    - Globale Einstellungen verwalten
    
    ## 9. Gruppenverwaltung
    
    ### 9.1 Gruppen anlegen
    
    - Neue Gruppen erstellen
    - Gruppenname und Beschreibung festlegen
    
    ### 9.2 Benutzer zu Gruppen zuweisen
    
    - Benutzer werden bei Anlage einer Gruppe zugewiesen
    - Benutzer per E-Mail oder Benutzername hinzufügen
    - Übersicht der Gruppenmitglieder
    
    ### 9.3 Gruppenberechtigungen
    
    - Features pro Gruppe aktivieren/deaktivieren
    - Lizenzfreie und lizenzpflichtige Features unterscheiden
    - Sicherheitseinstellungen pro Gruppe
    
    ### 9.4 Einschränkungen pro Gruppe
    
    - Maximale Anhangsgröße für WebUpload festlegen
    - Maximale Segmentgröße für Uploads
    - Whitelist für Empfänger (Domains wie *@company.com)
    
    ## 10. Automatisierung
    
    ### 10.1 Löschfristen
    
    - Automatische Löschfristen pro Datenraum
    - Automatische Bereinigung konfigurieren
    - DSGVO-konforme Aufbewahrungsfristen
    
    ### 10.2 Automatische Prozesse
    
    - Virenscans beim Upload (G DATA Scanner)
    - Automatische Benachrichtigungen
    - Compliance-Prüfungen
    
    ## 11. Zugriffsmöglichkeiten
    
    ### 11.1 Browserbasiert
    
    - Keine lokale Installation erforderlich
    - Zugriff über alle gängigen Browser
    - Responsive Design für mobile Geräte
    
    ### 11.2 Geräteunterstützung
    
    - Desktop/Laptop
    - Tablet
    - Smartphone
    - Plattformunabhängig
    
    ## 12. Integration
    
    ### 12.1 Microsoft Teams Integration
    
    - SecuRooms in Teams einbinden
    
    ### 12.2 API-Schnittstelle
    
    - REST API für Automatisierung
    - Programmatischer Zugriff auf Funktionen
    
    ### 12.3 SecuFlows-Schnittstelle
    
    - Integration mit FTAPI SecuFlows
\end{verbatim}

\subsection{SecuMails}

\begin{verbatim}
## **1. Produktübersicht**

### **1.1 Produktbeschreibung**

- **Name**: FTAPI SecuMails
- **Zweck**: Sichere Verschlüsselung und Übertragung von E-Mails und Dateien direkt im E-Mail-Postfach
- **Vision**: "Securing Digital Freedom"
- **Zielgruppe**: Unternehmen, Behörden, Gesundheitswesen, HR-Abteilungen

### **1.2 Kernfunktionalität**

- Sicherer Ad-hoc-Versand und -Empfang von Nachrichten und Dateien
- Dateien jeder Größe (bis 100 GB) sicher per Mail versenden
- Ende-zu-Ende-Verschlüsselung nach dem Zero-Knowledge-Prinzip
- Integration in bestehende E-Mail-Systeme

## **2. Systemzugriff und Nutzungsmöglichkeiten**

### **2.1 Zugriffswege**

1. **Web-Interface**
    - Zugriff über alle gängigen Internet-Browser (aktuelle Versionen)
    - Unterstützte Browser: Google Chrome, Microsoft Edge, Safari, Firefox
    - Optimiert für alle Endgeräte: Desktop, Tablet, Smartphone (\geq 360 x 640 px)
    - Keine lokale Installation erforderlich
2. **Microsoft Outlook Add-In** (kostenpflichtige Erweiterung)
    - Systemanforderung: Microsoft Outlook 2016 oder neuer
    - Nahtlose Integration in die gewohnte Outlook-Umgebung
    - Kein Medienbruch beim Versand
3. **SubmitBox** (digitaler Briefkasten) - kostenpflichtige Erweiterung
    - Sicherer Kanal für externe Einreichungen
    - Keine Registrierung für externe Sender erforderlich

## **3. Sicherheitsarchitektur**

### **3.1 Verschlüsselungstechnologie**

### **3.1.1 SecuPass-Technologie**

- Hybride Verschlüsselung mit AES-256-Bit
- Datenverschlüsselung: Symmetrisches AES-Verfahren
- Schlüsselaustausch: Asymmetrisches RSA-Schlüsselpaar
- RSA-Schlüssel mit OAEP (Optimal Asymmetric Encryption Padding)
- Schlüssellänge: 4096 Bit
- Automatischer Schlüsselaustausch ohne manuelle Zertifikatseinspielung

### **3.1.2 Zero-Knowledge-Prinzip**

- Ende-zu-Ende-Verschlüsselung
- RSA-Schlüsselpaar wird am Client generiert
- Privater RSA-Schlüssel wird mit SecuPass-Passwort verschlüsselt
- Nur verschlüsselte Form wird auf Server gespeichert
- FTAPI hat zu keinem Zeitpunkt Zugriff auf Daten

### **3.1.3 Transportverschlüsselung**

- TLS 1.3 für sichere Übertragung ("Encryption-in-Transit")
- SSL Labs Rating: A+
- Verhindert unbefugten Zugriff während Datenübertragung

### **3.1.4 Krypto-Agilität**

- Flexibles kryptografisches System
- Anpassungsfähig an neue Bedrohungen
- Vorbereitung auf Post-Quantum-Kryptografie
- Speicherung von Verschlüsselungsinformationen für verschiedene Algorithmen

### **3.2 Sicherheitsstufen**

### **Sicherheitsstufe 1 - Sicherer Link**

- **Verschlüsselung**: Transportverschlüsselung (TLS)
- **Zugriff**: Jeder mit Link kann Dateien herunterladen
- **Account erforderlich**: Nein
- **Anwendungsfall**: Unkritische Daten, Ausschreibungsunterlagen, Software-Updates
- **Empfänger-Authentifizierung**: Keine

### **Sicherheitsstufe 2 - Sicherer Link + Login**

- **Verschlüsselung**: Transportverschlüsselung (TLS)
- **Zugriff**: Nur mit FTAPI-Account
- **Account erforderlich**: Ja (automatische Gast-Account-Erstellung möglich)
- **Anwendungsfall**: Daten für bestimmte Empfänger
- **Optional**: Doppelt-Authentifizierte-Registrierung (SMS-Code)

### **Sicherheitsstufe 3 - Sicherer Link + Login + verschlüsselte Dateien**

- **Verschlüsselung**: Ende-zu-Ende-Verschlüsselung für Dateien
- **Zugriff**: FTAPI-Account + SecuPass-Key erforderlich
- **Account erforderlich**: Ja
- **Anwendungsfall**: Sensible/unternehmenskritische Daten, Arbeitsverträge, Gehaltsabrechnungen
- **Besonderheit**: Nachricht bleibt unverschlüsselt sichtbar

### **Sicherheitsstufe 4 - Sicherer Link + Login + verschlüsselte Dateien + verschlüsselte Nachricht**

- **Verschlüsselung**: Vollständige Ende-zu-Ende-Verschlüsselung (Dateien + Nachricht)
- **Zugriff**: FTAPI-Account + SecuPass-Key erforderlich
- **Account erforderlich**: Ja
- **Anwendungsfall**: Höchst sensible Kommunikation, strategische Dokumente
- **Besonderheit**: Gesamter E-Mail-Text ist verschlüsselt

## **4. Funktionale Requirements**

### **4.1 Versand-Funktionen**

### **4.1.1 Outlook Add-In Versand**

1. **E-Mail-Erstellung**
    - Standard E-Mail-Erstellung mit Empfänger, Betreff, Nachricht
    - Anhänge per Drag & Drop oder Büroklammer-Symbol
2. **FTAPI-Versand**
    - Button "Mit FTAPI versenden" in Menüleiste
    - Automatische sichere Übertragung der Anhänge
3. **Download-Button Integration**
    - Optional: Download-Button direkt in E-Mail einfügen
    - Alternative: Automatische Platzierung über Signatur
4. **Einstellungen**
    - Auswahl der Sicherheitsstufe (1-4)
    - Festlegung der Gültigkeitsdauer für Downloads
    - Admin kann Vorgaben definieren ("Security-by-Default")

### **4.1.2 Web-Interface Versand**

1. **Neue Zustellung erstellen**
    - Eingabe von Empfänger, Betreff, Nachricht
2. **Datei-Upload**
    - Drag & Drop Funktionalität
    - "Dateien anhängen" Button
    - Maximale Dateigröße: 100 GB
3. **Sicherheitseinstellungen**
    - Wahl der Sicherheitsstufe
    - Gültigkeitsdauer festlegen
4. **Versand**
    - "Mit FTAPI versenden" Button

### **4.2 Empfangs-Funktionen**

### **4.2.1 Outlook Add-In Empfang**

1. **E-Mail-Empfang**
    - Zustellung im normalen E-Mail-Postfach
    - Sichtbar: Absender, Betreff, Dateinamen, Nachrichtentext
2. **Entschlüsselung bei Stufe 4**
    - Button "Mail entschlüsseln" in Menüleiste
    - Entschlüsselung des Nachrichtentexts
3. **Download-Optionen**
    - "Herunterladen" Button in Menüleiste → Download in Outlook
    - Download-Link in E-Mail → Weiterleitung zum Browser
    - "Speichern unter" Option für alternativen Speicherort

### **4.2.2 Browser-basierter Empfang**

- Sicherer Download-Link in E-Mail
- Je nach Sicherheitsstufe weitere Authentifizierung nötig
- Download über Web-Interface

### **4.3 SubmitBox-Funktionalität**

### **4.3.1 Grundfunktionen**

- Digitaler Briefkasten für sichere Dateneinreichung
- Keine Registrierung für externe Sender erforderlich
- Einreichung nur mit SubmitBox-Link möglich
- Verschlüsselte Übertragung in allen Sicherheitsstufen

### **4.3.2 Integration**

- **E-Mail-Signatur**: Link zur persönlichen SubmitBox
- **Webseite**: Einbindung des Links
- **Outlook Integration**:
    - Option 1: Einmal gültiges Upload-Ticket versenden
    - Option 2: Permanenter SubmitBox-Link

### **4.3.3 Workflow für Externe**

1. **Ticket-Anforderung**
    - SubmitBox-Link aufrufen
    - E-Mail-Adresse eingeben
    - "Ticket erstellen" klicken
2. **Upload-Link erhalten**
    - E-Mail mit persönlichem Upload-Link
    - Betreff: "SubmitBox Ticket erstellt"
3. **Datei-Upload**
    - Upload-Link öffnen
    - Dateien per Drag & Drop oder Büroklammer hinzufügen
    - Nachricht eingeben
    - "Abschicken" klicken
4. **Bestätigungen**
    - Einreichungsbestätigung per E-Mail
    - Download-Bestätigung wenn Empfänger Dateien herunterlädt

### **4.3.4 Kontrollfunktionen**

- Optionales White- und Blacklisting
- Volle Kontrolle über erlaubte Einreichungen

### **4.4 Benachrichtigungen und Tracking**

### **4.4.1 Download-Bestätigungen**

- Automatische Benachrichtigung nach erfolgreichem Download
- Revisionssichere Dokumentation
- Transparenz über Empfangsstatus

### **4.4.2 Status-Tracking**

- Überblick über versendete Dateien
- Empfangsstatus in Echtzeit
- Reporting-Funktionen für Administratoren

### **4.5 Datenmanagement**

### **4.5.1 Löschfristen**

- Individuell festlegbare Aufbewahrungsfristen
- Automatische Löschung nach Ablauf
- Kein Zugriff nach Löschung möglich

### **4.5.2 Dateigröße**

- Maximale Dateigröße: 100 GB
- Keine Einschränkung bei Anzahl der Dateien
- Optimiert für große Datenmengen

## **5. Administrative Requirements**

### **5.1 Benutzerverwaltung**

- Zentrale Verwaltung über Admin-Oberfläche
- Lizenzverwaltung für Nutzer
- Rechtevergabe und Rollenverwaltung

### **5.2 Security-by-Default**

- Organisationsweite Vorgabe von Sicherheitsstufen
- Erzwingung bestimmter Verschlüsselungsstandards
- Automatische Regeln für Verschlüsselung

### **5.3 Compliance-Features**

- DSGVO-konforme Datenverarbeitung
- BSI-konforme Verschlüsselungsstandards
- Revisionssichere Protokollierung

### **5.4 Reporting**

- Detailliertes Reporting über Admin-Oberfläche
- Analyse des Anwenderverhaltens
- Ereignisprotokolle (Login-Zeiten, Aktivitäten)
- Export als HTML, PDF oder XLS

### **5.5 Integration**

- REST API für Systemintegration
- SMTP/IMAP Unterstützung
- Active Directory/LDAP Anbindung
- Single Sign-On (SSO) Unterstützung

## **6. Technische Requirements**

### **6.1 Client-Anforderungen**

- **Browser**: Aktuelle Versionen von Chrome, Edge, Safari, Firefox
- **Outlook**: Version 2016 oder höher
- **Bildschirmauflösung**: Minimum 360 x 640 px
- **Internetverbindung**: Stabile Verbindung erforderlich

### **6.2 Server-Infrastruktur**

- Cloud-basierte Lösung
- Hosting in deutschem Rechenzentrum (SysEleven)
- Kubernetes-Container-Architektur
- 99% Verfügbarkeit
- Geo-redundante Datenspeicherung

### **6.3 Sicherheitsstandards**

- ISO 27001 Zertifizierung
- BSI C5 Auditierung
- Regelmäßige Penetrationstests
- Secure Development Lifecycle

## **7. Benutzerfreundlichkeit**

### **7.1 User Experience**

- Intuitive Benutzeroberfläche
- Keine technischen Vorkenntnisse erforderlich
- Gewohnte E-Mail-Umgebung beibehalten
- Responsive Design für alle Geräte

### **7.2 Anwenderunterstützung**

- Interaktive Produkt-Touren
- Kurzanleitungen und Dokumentation
- Help Center mit FAQ
- Deutscher Admin-Support

### **7.3 Mehrsprachigkeit**

- Deutsche und englische Oberfläche
- Weitere Sprachen konfigurierbar
- Automatische Spracherkennung

## **8. Performance-Requirements**

### **8.1 Übertragungsgeschwindigkeit**

- Optimiert für große Dateien
- Parallele Upload-Streams
- Resumable Uploads bei Verbindungsabbruch

### **8.2 Skalierbarkeit**

- Unbegrenzte Anzahl externer Nutzer
- Elastische Cloud-Infrastruktur
- Automatische Lastverteilung

## **9. Lizenzierung und Kosten**

### **9.1 Basis-Lizenz**

- Web-Interface Zugang
- Grundfunktionen SecuMails

### **9.2 Kostenpflichtige Erweiterungen**

- Outlook Add-In
- SubmitBox Funktionalität
- Erweiterte Admin-Features
- API-Zugriff

## **10. Migration und Implementierung**

### **10.1 Implementierung**

- Schnelle und einfache Einrichtung
- Keine aufwendige Infrastruktur-Änderung
- Schrittweise Einführung möglich

### **10.2 Schulung**

- Personalisiertes Onboarding
- Schulungsmaterialien
- Customer Success Team Begleitung

### **10.3 Support**

- Deutschsprachiger Support
- SLA-basierte Reaktionszeiten
- Technische Dokumentation

# Use Cases:

# FTAPI SecuMails - Detaillierte Requirements und Use Cases

## 1. Produktübersicht

FTAPI SecuMails ist eine Lösung für den sicheren Versand und Empfang von Nachrichten und Dateien via E-Mail. Die Lösung ermöglicht die verschlüsselte Übertragung von Dateien bis zu 100 GB und bietet verschiedene Sicherheitsstufen für unterschiedliche Schutzbedürfnisse.

## 2. Systemanforderungen

### 2.1 Technische Requirements

### Unterstützte Umgebungen

- **Web-Browser** (jeweils aktuelle Version):
    - Google Chrome
    - Microsoft Edge
    - Safari
    - Mozilla Firefox
- **Microsoft Outlook Add-in**:
    - Microsoft Outlook 2016 oder neuer
- **Mobile Endgeräte**:
    - Optimiert für Desktop, Tablet und Smartphone
    - Mindestauflösung: 360 x 640 px

### Verschlüsselung

- AES 256-Bit-Verschlüsselung
- Transport-Verschlüsselung via TLS 1.3
- Ende-zu-Ende-Verschlüsselung nach Zero-Knowledge-Prinzip
- Verschlüsselung nach BSI-Standards

## 3. Funktionale Requirements

### 3.1 Versand-Funktionen

### FR-001: Dateigrößen-Handling

- System MUSS Dateien bis zu 100 GB verarbeiten können
- System MUSS maximale Anhangsgröße für WebUpload konfigurierbar machen
- System MUSS maximale Segmentgröße für Upload konfigurierbar machen

### FR-002: Sicherheitsstufen

System MUSS vier verschiedene Sicherheitsstufen anbieten:

**Sicherheitsstufe 1 - Sicherer Link**

- Zustellung wird hinter sicherem Link abgelegt
- Kein FTAPI-Account für Download erforderlich
- Anonymer Download möglich (konfigurierbar)

**Sicherheitsstufe 2 - Sicherer Link + Login**

- Empfänger benötigt FTAPI-Account
- Automatische Gast-Account-Erstellung für externe Empfänger
- Empfänger-Authentifizierung erforderlich

**Sicherheitsstufe 3 - Sicherer Link + Login + verschlüsselte Dateien**

- Ende-zu-Ende-Verschlüsselung der Dateien
- SecuPass-Key für Ver-/Entschlüsselung erforderlich
- Zero-Knowledge-Prinzip

**Sicherheitsstufe 4 - Sicherer Link + Login + verschlüsselte Dateien + verschlüsselte Nachricht**

- Ende-zu-Ende-Verschlüsselung von Dateien UND Nachrichtentext
- SecuPass-Key für Ver-/Entschlüsselung erforderlich
- Höchste Sicherheitsstufe für kritische Kommunikation

### FR-003: Versand-Optionen

- System MUSS Versand ohne Anhang ermöglichen (konfigurierbar)
- System MUSS Gültigkeitsdauer für Download-Links konfigurierbar machen
- System MUSS automatische Löschfristen für Dateien unterstützen
- System MUSS Download-Button in E-Mail integrierbar machen

### FR-004: Benachrichtigungen

- System MUSS automatische Download-Bestätigungen versenden
- System MUSS Versender über erfolgreichen Download informieren
- System MUSS IP-Adressen-Protokollierung ermöglichen (optional)

### 3.2 Empfangs-Funktionen

### FR-005: Antwort-Funktion

- System MUSS "Antwort senden"-Funktion für externe Empfänger bereitstellen
- Externe Empfänger MÜSSEN auf empfangene Zustellungen antworten können

### FR-006: Entschlüsselung

- System MUSS Mail-Entschlüsselung bei Sicherheitsstufe 4 im Outlook Add-in ermöglichen
- System MUSS SecuPass-Verwaltung bereitstellen

### 3.3 Administrative Funktionen

### FR-007: Organisationsweite Einstellungen

- Administrator MUSS Standard-Sicherheitsstufe vorgeben können
- Administrator MUSS Versandregeln organisationsweit festlegen können
- Administrator MUSS Whitelist für Zustellungsempfänger konfigurieren können

### FR-008: Benutzer- und Gruppenverwaltung

- System MUSS Benutzer Gruppen zuweisen können
- System MUSS Berechtigungen und Lizenzen pro Gruppe verwalten
- System MUSS Sicherheitseinstellungen pro Gruppe konfigurierbar machen

### FR-009: Compliance und Reporting

- System MUSS revisionssichere Download-Bestätigungen bereitstellen
- System MUSS Zustellungs-Download-Report generieren können
- System MUSS DSGVO-konforme Datenverarbeitung gewährleisten

### 3.4 Integration Requirements

### FR-010: Outlook Add-in

- Add-in MUSS nahtlose Integration in Outlook bieten
- Add-in MUSS "Mit FTAPI versenden"-Button bereitstellen
- Add-in MUSS Sicherheitsstufen-Auswahl ermöglichen
- Add-in MUSS Download-Button in E-Mail einfügen können

### FR-011: SubmitBox Integration

- System MUSS SubmitBox für sicheren Datenempfang bereitstellen
- SubmitBox MUSS ohne Registrierung für Externe nutzbar sein
- SubmitBox MUSS als digitaler Briefkasten fungieren

## 4. Detaillierte Use Cases

### 4.1 UC-001: Sicherer Versand via Outlook Add-in

**Akteure:**

- USER A (Versender mit Outlook)
- USER B (Empfänger)

**Vorbedingungen:**

- USER A hat Outlook 2016+ mit installiertem FTAPI Add-in
- USER A ist bei FTAPI registriert und angemeldet

**Hauptszenario:**

1. USER A erstellt neue E-Mail in Outlook
2. USER A fügt Empfänger (USER B), Betreff und Nachrichtentext hinzu
3. USER A fügt Dateien als Anhang hinzu
4. USER A klickt auf "Mit FTAPI versenden" im Add-in
5. System zeigt Sicherheitsstufen-Auswahl
6. USER A wählt Sicherheitsstufe (1-4)
7. USER A definiert Gültigkeitsdauer (optional)
8. USER A klickt auf "Senden"
9. System verschlüsselt Dateien gemäß gewählter Sicherheitsstufe
10. System generiert sicheren Download-Link
11. USER B erhält E-Mail mit Download-Link
12. USER A erhält Versandbestätigung

**Alternative Szenarien:**

- 4a. USER A fügt Download-Button direkt in E-Mail ein
- 6a. Administrator hat Sicherheitsstufe vorgegeben

### 4.2 UC-002: Empfang mit Sicherheitsstufe 1

**Akteure:**

- USER B (Empfänger ohne FTAPI-Account)

**Hauptszenario:**

1. USER B erhält E-Mail mit sicherem Link
2. USER B klickt auf Download-Link
3. System öffnet Download-Seite im Browser
4. USER B lädt Dateien herunter
5. System sendet Download-Bestätigung an Versender

**Besonderheit:** Kein Login erforderlich, anonymer Download möglich

### 4.3 UC-003: Empfang mit Sicherheitsstufe 2

**Akteure:**

- USER B (Externer Empfänger ohne FTAPI-Account)

**Hauptszenario:**

1. USER B erhält E-Mail mit sicherem Link
2. USER B klickt auf Download-Link
3. System leitet zu Registrierungsseite weiter
4. System erstellt automatisch Gast-Account für USER B
5. USER B gibt E-Mail-Adresse ein
6. USER B erstellt Passwort
7. System sendet Bestätigungs-E-Mail
8. USER B meldet sich mit Gast-Account an
9. USER B lädt Dateien herunter
10. System sendet Download-Bestätigung an Versender

### 4.4 UC-004: Ende-zu-Ende-verschlüsselter Versand (Stufe 3)

**Akteure:**

- USER A (Versender mit SecuPass)
- USER B (Empfänger)

**Vorbedingungen:**

- USER A hat SecuPass eingerichtet
- Sensible Dateien (z.B. Verträge, Finanzdaten)

**Hauptszenario:**

1. USER A wählt Sicherheitsstufe 3 beim Versand
2. System verschlüsselt Dateien mit USER A's SecuPass-Key
3. USER B erhält verschlüsselte Zustellung
4. USER B richtet SecuPass ein (falls noch nicht vorhanden)
5. System informiert USER A über SecuPass-Aktivierung
6. USER A erteilt Freigabe für USER B
7. USER B kann Dateien mit eigenem SecuPass entschlüsseln
8. Dateien bleiben während gesamtem Prozess Ende-zu-Ende verschlüsselt

### 4.5 UC-005: Vollverschlüsselte Kommunikation (Stufe 4)

**Akteure:**

- USER A (Versender mit SecuPass)
- USER B (Empfänger mit SecuPass)

**Hauptszenario:**

1. USER A verfasst vertrauliche Nachricht mit sensiblen Anhängen
2. USER A wählt Sicherheitsstufe 4
3. System verschlüsselt Nachrichtentext UND Dateien
4. USER B erhält vollständig verschlüsselte E-Mail
5. USER B meldet sich an und gibt SecuPass ein
6. USER B klickt "Mail entschlüsseln" im Outlook Add-in
7. System entschlüsselt Nachrichtentext
8. USER B lädt und entschlüsselt Dateien
9. Kommunikation bleibt Zero-Knowledge (FTAPI hat keinen Zugriff)

### 4.6 UC-006: SubmitBox - Passiver Upload

**Akteure:**

- USER A (SubmitBox-Besitzer)
- USER B (Externer Einreicher)

**Hauptszenario:**

1. USER A integriert SubmitBox-Link in E-Mail-Signatur
2. USER B findet SubmitBox-Link
3. USER B klickt auf SubmitBox-Link
4. System öffnet SubmitBox-Interface
5. USER B gibt eigene E-Mail-Adresse ein
6. USER B klickt "Ticket erstellen"
7. System sendet Upload-Link an USER B
8. USER B öffnet E-Mail mit Upload-Link
9. USER B lädt Dateien hoch und fügt Nachricht hinzu
10. USER B klickt "Abschicken"
11. USER A erhält Benachrichtigung über Einreichung
12. USER B erhält Einreichungsbestätigung

### 4.7 UC-007: SubmitBox - Aktiver Upload via Outlook

**Akteure:**

- USER A (Anforderer mit Outlook)
- USER B (Externer Einreicher)

**Hauptszenario:**

1. USER A erstellt E-Mail in Outlook
2. USER A klickt auf SubmitBox-Button → "Upload-Button einfügen"
3. System fügt einmalig gültigen Upload-Link in E-Mail ein
4. USER A sendet E-Mail mit FTAPI
5. USER B erhält E-Mail mit persönlichem Upload-Link
6. USER B klickt auf Upload-Link
7. USER B lädt angeforderte Dateien hoch
8. USER A erhält verschlüsselte Dateien in Postfach
9. Beide erhalten Bestätigungen

### 4.8 UC-008: Administratorkonfiguration

**Akteur:**

- ADMIN (Administrator)

**Hauptszenario:**

1. ADMIN navigiert zu Administration → Konfiguration
2. ADMIN konfiguriert Zustellungseinstellungen:
    - Erlaubt/verbietet Zustellungen ohne Anhang
    - Setzt Standard-Sicherheitsstufe
    - Definiert maximale Dateigröße
    - Konfiguriert Löschfristen
3. ADMIN richtet Whitelist für erlaubte Empfänger ein
4. ADMIN aktiviert IP-Adressen-Protokollierung
5. ADMIN konfiguriert CC-Adressen für Compliance
6. Einstellungen gelten organisationsweit

### 4.9 UC-009: Compliance-Reporting

**Akteur:**

- ADMIN/COMPLIANCE-OFFICER

**Hauptszenario:**

1. ADMIN navigiert zu Berichte
2. ADMIN wählt "Zustellungen Download Report"
3. ADMIN definiert Zeitraum
4. System generiert Report mit:
    - Versender/Empfänger-Informationen
    - Download-Zeitpunkte
    - IP-Adressen (falls aktiviert)
    - Sicherheitsstufen
5. ADMIN exportiert Report für Audit/Compliance

### 4.10 UC-010: SecuPass-Einrichtung

**Akteur:**

- USER (Erstmalige SecuPass-Nutzung)

**Hauptszenario:**

1. USER erhält Ende-zu-Ende verschlüsselte Zustellung
2. System zeigt rotes "!" bei Benutzerkonto
3. USER klickt auf Benutzerkonto-Icon
4. USER wählt "SecuPass einrichten"
5. USER erstellt SecuPass (mit Vorgaben: Länge, Sonderzeichen)
6. USER bestätigt SecuPass
7. System aktiviert Ende-zu-Ende-Verschlüsselung
8. USER kann nun verschlüsselte Inhalte senden/empfangen

**Wichtig:** SecuPass kann NICHT zurückgesetzt werden!

## 5. Sicherheitsanforderungen

### 5.1 Verschlüsselung

- MUSS AES 256-Bit-Verschlüsselung verwenden
- MUSS Zero-Knowledge-Prinzip bei Stufe 3+4 einhalten
- MUSS Krypto-Agilität für zukünftige Standards unterstützen

### 5.2 Authentifizierung

- MUSS Zwei-Faktor-Authentifizierung unterstützen (optional)
- MUSS Single-Sign-On via SAML unterstützen
- MUSS Brute-Force-Schutz implementieren

### 5.3 Datenschutz

- MUSS DSGVO-konform sein
- MUSS "Made & Hosted in Germany" erfüllen
- MUSS automatische Datenlöschung nach Ablauf unterstützen

## 6. Performance Requirements

- System MUSS Dateien bis 100 GB in angemessener Zeit verarbeiten
- Upload MUSS in Segmenten erfolgen können
- System MUSS für mobile Endgeräte optimiert sein

## 7. Integrations-Requirements

### 7.1 E-Mail-Integration

- MUSS mit Microsoft Outlook 2016+ kompatibel sein
- MUSS Standard-E-Mail-Protokolle unterstützen
- MUSS Download-Links in E-Mails einbetten können

### 7.2 Browser-Kompatibilität

- MUSS mit aktuellen Versionen aller gängigen Browser funktionieren
- MUSS responsive Design für verschiedene Bildschirmgrößen bieten

## 8. Lizenzierung

- Basis-Funktionen (Web-Interface) in Grundlizenz enthalten
- Outlook Add-in als kostenpflichtige Erweiterung
- SubmitBox als kostenpflichtige Erweiterung
- Lizenzierung pro Benutzer/Gruppe
\end{verbatim}
